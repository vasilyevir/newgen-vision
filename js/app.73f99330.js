(function(){"use strict";var t={2998:function(t,e,s){var n=s(6369),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"root",attrs:{id:"app"}},[e("input-trainer"),e("typing-statistics"),t.getIsTrainerEnd?e("popup-results"):t._e()],1)},i=[],a=s(3822),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"textarea"},[e("p",{staticClass:"textarea__row"},t._l(t.showingText,(function(s){return e("span",{key:s.id,staticClass:"textarea__letter",class:s.isIntroduced?"textarea__letter_is-introduced":t.showingLastErrorIndex===s.id?"textarea__letter_incorrect":s.id===t.showingIndexEnterSymbol?"textarea__letter_active":""},[t._v(t._s(s.value))])})),0)])},c=[],u={name:"inputTrainer",computed:{...(0,a.Se)(["showingText","showingLastErrorIndex","showingIndexEnterSymbol"])}},l=u,m=s(1001),p=(0,m.Z)(l,o,c,!1,null,"3a31f9f4",null),d=p.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statistics"},[e("p",{staticClass:"statistics__time"},[t._v("Time: "),e("span",{staticClass:"statistics__params"},[t._v(t._s(t.getTime))])]),e("p",{staticClass:"statistics__speed"},[t._v("Symbols per minute: "),e("span",{staticClass:"statistics__params"},[t._v(t._s(t.showingSymbolsPerMinute))])]),e("p",{staticClass:"statistics__accuracy"},[t._v("Accuracy: "),e("span",{staticClass:"statistics__params"},[t._v(t._s(t.showingAccuracy)+"%")])]),e("button",{staticClass:"statistics__new-game",on:{click:t.startNewTrainer}},[t._v("Start again")])])},h=[],f={name:"TypingStatistics",computed:{...(0,a.Se)(["getTime","showingSymbolsPerMinute","showingAccuracy"])},methods:{...(0,a.nv)(["startNewTrainer"])}},v=f,y=(0,m.Z)(v,_,h,!1,null,"3e1e563f",null),T=y.exports,x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"popup"},[e("div",{staticClass:"popup__container"},[e("h2",[t._v("Your results")]),e("div",{staticClass:"popup__statistics"},[e("div",{staticClass:"popup__element-statistic"},[e("h3",{staticClass:"popup__header"},[t._v("Time:")]),e("p",{staticClass:"popup__value"},[t._v(t._s(t.getTime))])]),e("div",{staticClass:"popup__element-statistic"},[e("h3",{staticClass:"popup__header"},[t._v("Symbol per minute:")]),e("p",{staticClass:"popup__value"},[t._v(t._s(t.showingSymbolsPerMinute))])]),e("div",{staticClass:"popup__element-statistic"},[e("h3",{staticClass:"popup__header"},[t._v("Accuracy:")]),e("p",{staticClass:"popup__value"},[t._v(t._s(t.showingAccuracy))])])]),e("button",{staticClass:"popup__button",on:{click:t.startNewTrainer}},[t._v("Start new game")])])])},w=[],g={name:"PopupResults",computed:(0,a.Se)(["showingAccuracy","getTime","showingSymbolsPerMinute"]),methods:(0,a.nv)(["startNewTrainer"])},E=g,b=(0,m.Z)(E,x,w,!1,null,"15e07084",null),S=b.exports,I={name:"App",components:{PopupResults:S,TypingStatistics:T,InputTrainer:d},computed:{...(0,a.Se)(["getIsTrainerEnd"])},methods:{...(0,a.nv)(["fetchTexts","endTime","getInformationToTrainer"])},created(){this.getInformationToTrainer()},beforeDestroy(){this.endTime()}},C=I,P=(0,m.Z)(C,r,i,!1,null,null,null),M=P.exports,k={actions:{async fetchTexts(t){const e=await fetch("https://baconipsum.com/api/?type=meat-and-filler"),s=await e.json(),n=await s[Math.floor(Math.random()*s.length)].split("");t.commit("updateText",await n.map(((t,e)=>({id:e,value:t,isIntroduced:!1}))))},enterLetter(t,e){t.commit("updateText",t.state.text.map(((t,s)=>e!==s?t:{...t,isIntroduced:!0})))}},mutations:{updateText(t,e){t.text=e}},state:{text:[]},getters:{showingText(t){return t.text}}},A={actions:{calculateStatistics({commit:t,state:e}){t("setNewAmountErrors"),t("updateLastIndex",e.indexEnterSymbol)},incrementEnterIndex({commit:t,state:e}){t("setNewIndexEnterSymbol",e.indexEnterSymbol+1)},clearStatistics({commit:t}){t("setNewAmountErrors",0),t("updateAccuracy",1e3),t("updateLastIndex",-1),t("setNewIndexEnterSymbol",0),t("setDataSymbolsPerMinute",0)}},mutations:{setNewAmountErrors(t,e){0===e?t.amountErrorEnter=0:t.amountErrorEnter+=1},updateAccuracy(t,e){t.accuracy=e},updateLastIndex(t,e){t.lastErrorIndex=e},setNewIndexEnterSymbol(t,e){t.indexEnterSymbol=e},setDataSymbolsPerMinute(t,e){t.symbolsPerMinute=e}},state:{amountErrorEnter:0,indexEnterSymbol:0,lastErrorIndex:-1,symbolsPerMinute:0,accuracy:1e3},getters:{showingIndexEnterSymbol(t){return t.indexEnterSymbol},showingLastErrorIndex(t){return t.lastErrorIndex},showingSymbolsPerMinute(t){return t.symbolsPerMinute},showingAccuracy(t){return Math.floor(t.accuracy/10)+"."+t.accuracy%10}}};n.ZP.use(a.ZP);var L=new a.ZP.Store({actions:{keydownListener({state:t,commit:e,dispatch:s},n){n&&"Shift"!==n&&"Meta"!==n&&"CapsLock"!==n&&"Alt"!==n&&"Control"!==n&&"Tab"!==n&&!t.isTrainerEnd&&(t.text.text[t.statistics.indexEnterSymbol].value===n?(s("enterLetter",t.statistics.indexEnterSymbol),s("incrementEnterIndex"),t.statistics.indexEnterSymbol===t.text.text.length&&(e("setIsTrainerEnd",!0),s("endTime"))):t.statistics.indexEnterSymbol!==t.statistics.lastErrorIndex&&(e("updateAccuracy",Math.floor(1e3*t.text.text.length/(t.text.text.length+t.statistics.amountErrorEnter))),s("calculateStatistics")),t.setupTimer||(e("setStatusTimer",!0),s("startTime")))},getInformationToTrainer({dispatch:t,commit:e}){document.addEventListener("keydown",(e=>t("keydownListener",e.key))),t("endTime"),t("clearStatistics"),t("fetchTexts"),e("updateTime",0),e("setStatusTimer",!1),e("setIsTrainerEnd",!1)},startNewTrainer(){window.location.reload()},startTime({commit:t,state:e}){t("updateTimer",setInterval((()=>{t("updateTime"),t("setDataSymbolsPerMinute",Math.round(60*(e.statistics.indexEnterSymbol+1)/e.time))}),1e3))},endTime({commit:t,dispatch:e,state:s}){document.removeEventListener("keydown",(t=>e("keydownListener",t.key))),clearInterval(s.timer),t("updateTimer",null)}},mutations:{setStatusTimer(t,e){t.setupTimer=e},updateTimer(t,e){t.timer=e},updateTime(t,e){0===e?t.time=0:t.time+=1},setIsTrainerEnd(t,e){t.isTrainerEnd=e}},state:{setupTimer:!1,timer:null,time:0,isTrainerEnd:!1},getters:{getTime(t){return Math.floor(t.time/60)+":"+(t.time%60>9?t.time%60:"0"+t.time%60)},getSetupTimer(t){return t.setupTimer},getIsTrainerEnd(t){return t.isTrainerEnd}},modules:{statistics:A,text:k}});n.ZP.config.productionTip=!1,new n.ZP({render:t=>t(M),el:"#app",store:L})}},e={};function s(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,n,r,i){if(!n){var a=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],i=t[l][2];for(var o=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(s.O).every((function(t){return s.O[t](n[c])}))?n.splice(c--,1):(o=!1,i<a&&(a=i));if(o){t.splice(l--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,r,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,a=n[0],o=n[1],c=n[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(c)var l=c(s)}for(e&&e(n);u<a.length;u++)i=a[u],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(l)},n=self["webpackChunknew_division"]=self["webpackChunknew_division"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(2998)}));n=s.O(n)})();
//# sourceMappingURL=app.73f99330.js.map